// Autogenerated by Thrift for thrift/compiler/test/fixtures/go-typedef/src/module1.thrift
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//  @generated

package module1

import (
    "fmt"
    "strings"

    module0 "module0"
    module2 "module2"
    thrift "github.com/facebook/fbthrift/thrift/lib/go/thrift"
)

var _ = module0.GoUnusedProtection__
var _ = module2.GoUnusedProtection__
// (needed to ensure safety because of naive import list construction)
var _ = fmt.Printf
var _ = strings.Split
var _ = thrift.ZERO


type Plate = string

func NewPlate() Plate {
    return ""
}

func WritePlate(item Plate, p thrift.Format) error {
    if err := p.WriteString(item); err != nil {
    return err
}
    return nil
}

func ReadPlate(p thrift.Format) (Plate, error) {
    var decodeResult Plate
    decodeErr := func() error {
        result, err := p.ReadString()
if err != nil {
    return err
}
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type State = string

func NewState() State {
    return ""
}

func WriteState(item State, p thrift.Format) error {
    if err := p.WriteString(item); err != nil {
    return err
}
    return nil
}

func ReadState(p thrift.Format) (State, error) {
    var decodeResult State
    decodeErr := func() error {
        result, err := p.ReadString()
if err != nil {
    return err
}
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type Year = int32

func NewYear() Year {
    return 0
}

func WriteYear(item Year, p thrift.Format) error {
    if err := p.WriteI32(item); err != nil {
    return err
}
    return nil
}

func ReadYear(p thrift.Format) (Year, error) {
    var decodeResult Year
    decodeErr := func() error {
        result, err := p.ReadI32()
if err != nil {
    return err
}
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type Drivers = []string

func NewDrivers() Drivers {
    return make([]string, 0)
}

func WriteDrivers(item Drivers, p thrift.Format) error {
    if err := p.WriteListBegin(thrift.STRING, len(item)); err != nil {
    return thrift.PrependError("error writing list begin: ", err)
}
for _, v := range item {
    {
        item := v
        if err := p.WriteString(item); err != nil {
    return err
}
    }
}
if err := p.WriteListEnd(); err != nil {
    return thrift.PrependError("error writing list end: ", err)
}
    return nil
}

func ReadDrivers(p thrift.Format) (Drivers, error) {
    var decodeResult Drivers
    decodeErr := func() error {
        _ /* elemType */, size, err := p.ReadListBegin()
if err != nil {
    return thrift.PrependError("error reading list begin: ", err)
}

listResult := make([]string, 0, size)
for i := 0; i < size; i++ {
    var elem string
    {
        result, err := p.ReadString()
if err != nil {
    return err
}
        elem = result
    }
    listResult = append(listResult, elem)
}

if err := p.ReadListEnd(); err != nil {
    return thrift.PrependError("error reading list end: ", err)
}
result := listResult
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type Accessory = module0.Accessory

func NewAccessory() *Accessory {
    return module0.NewAccessory()
}

func WriteAccessory(item *Accessory, p thrift.Format) error {
    if err := item.Write(p); err != nil {
    return err
}
    return nil
}

func ReadAccessory(p thrift.Format) (Accessory, error) {
    var decodeResult Accessory
    decodeErr := func() error {
        result := *module0.NewAccessory()
err := result.Read(p)
if err != nil {
    return err
}
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type CarPartName = module0.PartName

func NewCarPartName() *CarPartName {
    return module0.NewPartName()
}

func WriteCarPartName(item *CarPartName, p thrift.Format) error {
    if err := item.Write(p); err != nil {
    return err
}
    return nil
}

func ReadCarPartName(p thrift.Format) (CarPartName, error) {
    var decodeResult CarPartName
    decodeErr := func() error {
        result := *module0.NewPartName()
err := result.Read(p)
if err != nil {
    return err
}
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type Enum = module2.Enum

const (
    Enum_A Enum = module2.Enum_A
    Enum_B Enum = module2.Enum_B
    Enum_C Enum = module2.Enum_C
)

// Enum value maps for Enum
var (
    EnumToName  = module2.EnumToName
    EnumToValue = module2.EnumToValue
)

// Deprecated: Use EnumToValue instead (e.g. `x, ok := EnumToValue["name"]`).
func EnumFromString(s string) (Enum, error) {
    return module2.EnumFromString(s)
}

func NewEnum() Enum {
    return 0
}

func WriteEnum(item Enum, p thrift.Format) error {
    if err := p.WriteI32(int32(item)); err != nil {
    return err
}
    return nil
}

func ReadEnum(p thrift.Format) (Enum, error) {
    var decodeResult Enum
    decodeErr := func() error {
        enumResult, err := p.ReadI32()
if err != nil {
    return err
}
result := module2.Enum(enumResult)
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type Car = Automobile

func NewCar() *Car {
    return NewAutomobile()
}

func WriteCar(item *Car, p thrift.Format) error {
    if err := item.Write(p); err != nil {
    return err
}
    return nil
}

func ReadCar(p thrift.Format) (Car, error) {
    var decodeResult Car
    decodeErr := func() error {
        result := *NewAutomobile()
err := result.Read(p)
if err != nil {
    return err
}
        decodeResult = result
        return nil
    }()
    return decodeResult, decodeErr
}

type Automobile struct {
    Plate Plate `thrift:"plate,1" json:"plate" db:"plate"`
    PreviousPlate *Plate `thrift:"previous_plate,2,optional" json:"previous_plate,omitempty" db:"previous_plate"`
    FirstPlate *Plate `thrift:"first_plate,3,optional" json:"first_plate,omitempty" db:"first_plate"`
    Year Year `thrift:"year,4" json:"year" db:"year"`
    Drivers Drivers `thrift:"drivers,5" json:"drivers" db:"drivers"`
    Accessories []*Accessory `thrift:"Accessories,6" json:"Accessories" db:"Accessories"`
    PartNames map[int32]*CarPartName `thrift:"PartNames,7" json:"PartNames" db:"PartNames"`
}
// Compile time interface enforcer
var _ thrift.Struct = (*Automobile)(nil)

func NewAutomobile() *Automobile {
    return (&Automobile{}).
        SetPlateNonCompat(NewPlate()).
        SetFirstPlateNonCompat("0000").
        SetYearNonCompat(NewYear()).
        SetDriversNonCompat(NewDrivers()).
        SetAccessoriesNonCompat(make([]*Accessory, 0)).
        SetPartNamesNonCompat(make(map[int32]*CarPartName))
}

func (x *Automobile) GetPlate() Plate {
    return x.Plate
}

func (x *Automobile) GetPreviousPlate() Plate {
    if !x.IsSetPreviousPlate() {
        return NewPlate()
    }

    return *x.PreviousPlate
}

func (x *Automobile) GetFirstPlate() Plate {
    if !x.IsSetFirstPlate() {
        return "0000"
    }

    return *x.FirstPlate
}

func (x *Automobile) GetYear() Year {
    return x.Year
}

func (x *Automobile) GetDrivers() Drivers {
    if !x.IsSetDrivers() {
        return NewDrivers()
    }

    return x.Drivers
}

func (x *Automobile) GetAccessories() []*Accessory {
    if !x.IsSetAccessories() {
        return make([]*Accessory, 0)
    }

    return x.Accessories
}

func (x *Automobile) GetPartNames() map[int32]*CarPartName {
    if !x.IsSetPartNames() {
        return make(map[int32]*CarPartName)
    }

    return x.PartNames
}

func (x *Automobile) SetPlateNonCompat(value Plate) *Automobile {
    x.Plate = value
    return x
}

func (x *Automobile) SetPlate(value Plate) *Automobile {
    x.Plate = value
    return x
}

func (x *Automobile) SetPreviousPlateNonCompat(value Plate) *Automobile {
    x.PreviousPlate = &value
    return x
}

func (x *Automobile) SetPreviousPlate(value *Plate) *Automobile {
    x.PreviousPlate = value
    return x
}

func (x *Automobile) SetFirstPlateNonCompat(value Plate) *Automobile {
    x.FirstPlate = &value
    return x
}

func (x *Automobile) SetFirstPlate(value Plate) *Automobile {
    x.FirstPlate = &value
    return x
}

func (x *Automobile) SetYearNonCompat(value Year) *Automobile {
    x.Year = value
    return x
}

func (x *Automobile) SetYear(value Year) *Automobile {
    x.Year = value
    return x
}

func (x *Automobile) SetDriversNonCompat(value Drivers) *Automobile {
    x.Drivers = value
    return x
}

func (x *Automobile) SetDrivers(value Drivers) *Automobile {
    x.Drivers = value
    return x
}

func (x *Automobile) SetAccessoriesNonCompat(value []*Accessory) *Automobile {
    x.Accessories = value
    return x
}

func (x *Automobile) SetAccessories(value []*Accessory) *Automobile {
    x.Accessories = value
    return x
}

func (x *Automobile) SetPartNamesNonCompat(value map[int32]*CarPartName) *Automobile {
    x.PartNames = value
    return x
}

func (x *Automobile) SetPartNames(value map[int32]*CarPartName) *Automobile {
    x.PartNames = value
    return x
}

func (x *Automobile) IsSetPreviousPlate() bool {
    return x != nil && x.PreviousPlate != nil
}

func (x *Automobile) IsSetFirstPlate() bool {
    return x != nil && x.FirstPlate != nil
}

func (x *Automobile) IsSetDrivers() bool {
    return x != nil && x.Drivers != nil
}

func (x *Automobile) IsSetAccessories() bool {
    return x != nil && x.Accessories != nil
}

func (x *Automobile) IsSetPartNames() bool {
    return x != nil && x.PartNames != nil
}

func (x *Automobile) writeField1(p thrift.Format) error {  // Plate
    if err := p.WriteFieldBegin("plate", thrift.STRING, 1); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Plate
    err := WritePlate(item, p)
if err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) writeField2(p thrift.Format) error {  // PreviousPlate
    if !x.IsSetPreviousPlate() {
        return nil
    }

    if err := p.WriteFieldBegin("previous_plate", thrift.STRING, 2); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := *x.PreviousPlate
    err := WritePlate(item, p)
if err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) writeField3(p thrift.Format) error {  // FirstPlate
    if !x.IsSetFirstPlate() {
        return nil
    }

    if err := p.WriteFieldBegin("first_plate", thrift.STRING, 3); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := *x.FirstPlate
    err := WritePlate(item, p)
if err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) writeField4(p thrift.Format) error {  // Year
    if err := p.WriteFieldBegin("year", thrift.I32, 4); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Year
    err := WriteYear(item, p)
if err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) writeField5(p thrift.Format) error {  // Drivers
    if err := p.WriteFieldBegin("drivers", thrift.LIST, 5); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Drivers
    err := WriteDrivers(item, p)
if err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) writeField6(p thrift.Format) error {  // Accessories
    if err := p.WriteFieldBegin("Accessories", thrift.LIST, 6); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Accessories
    if err := p.WriteListBegin(thrift.STRUCT, len(item)); err != nil {
    return thrift.PrependError("error writing list begin: ", err)
}
for _, v := range item {
    {
        item := v
        err := WriteAccessory(item, p)
if err != nil {
    return err
}
    }
}
if err := p.WriteListEnd(); err != nil {
    return thrift.PrependError("error writing list end: ", err)
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) writeField7(p thrift.Format) error {  // PartNames
    if err := p.WriteFieldBegin("PartNames", thrift.MAP, 7); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.PartNames
    if err := p.WriteMapBegin(thrift.I32, thrift.STRUCT, len(item)); err != nil {
    return thrift.PrependError("error writing map begin: ", err)
}
for k, v := range item {
    {
        item := k
        if err := p.WriteI32(item); err != nil {
    return err
}
    }

    {
        item := v
        err := WriteCarPartName(item, p)
if err != nil {
    return err
}
    }
}
if err := p.WriteMapEnd(); err != nil {
    return thrift.PrependError("error writing map end: ", err)
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Automobile) readField1(p thrift.Format) error {  // Plate
    result, err := ReadPlate(p)
if err != nil {
    return err
}

    x.Plate = result
    return nil
}

func (x *Automobile) readField2(p thrift.Format) error {  // PreviousPlate
    result, err := ReadPlate(p)
if err != nil {
    return err
}

    x.PreviousPlate = &result
    return nil
}

func (x *Automobile) readField3(p thrift.Format) error {  // FirstPlate
    result, err := ReadPlate(p)
if err != nil {
    return err
}

    x.FirstPlate = &result
    return nil
}

func (x *Automobile) readField4(p thrift.Format) error {  // Year
    result, err := ReadYear(p)
if err != nil {
    return err
}

    x.Year = result
    return nil
}

func (x *Automobile) readField5(p thrift.Format) error {  // Drivers
    result, err := ReadDrivers(p)
if err != nil {
    return err
}

    x.Drivers = result
    return nil
}

func (x *Automobile) readField6(p thrift.Format) error {  // Accessories
    _ /* elemType */, size, err := p.ReadListBegin()
if err != nil {
    return thrift.PrependError("error reading list begin: ", err)
}

listResult := make([]*Accessory, 0, size)
for i := 0; i < size; i++ {
    var elem Accessory
    {
        result, err := ReadAccessory(p)
if err != nil {
    return err
}
        elem = result
    }
    listResult = append(listResult, &elem)
}

if err := p.ReadListEnd(); err != nil {
    return thrift.PrependError("error reading list end: ", err)
}
result := listResult

    x.Accessories = result
    return nil
}

func (x *Automobile) readField7(p thrift.Format) error {  // PartNames
    _ /* keyType */, _ /* valueType */, size, err := p.ReadMapBegin()
if err != nil {
    return thrift.PrependError("error reading map begin: ", err)
}

mapResult := make(map[int32]*CarPartName, size)
for i := 0; i < size; i++ {
    var key int32
    {
        result, err := p.ReadI32()
if err != nil {
    return err
}
        key = result
    }

    var value *CarPartName
    {
        result, err := ReadCarPartName(p)
if err != nil {
    return err
}
        value = &result
    }

    mapResult[key] = value
}

if err := p.ReadMapEnd(); err != nil {
    return thrift.PrependError("error reading map end: ", err)
}
result := mapResult

    x.PartNames = result
    return nil
}

func (x *Automobile) toString1() string {  // Plate
    return fmt.Sprintf("%v", x.Plate)
}

func (x *Automobile) toString2() string {  // PreviousPlate
    if x.IsSetPreviousPlate() {
        return fmt.Sprintf("%v", *x.PreviousPlate)
    }
    return fmt.Sprintf("%v", x.PreviousPlate)
}

func (x *Automobile) toString3() string {  // FirstPlate
    if x.IsSetFirstPlate() {
        return fmt.Sprintf("%v", *x.FirstPlate)
    }
    return fmt.Sprintf("%v", x.FirstPlate)
}

func (x *Automobile) toString4() string {  // Year
    return fmt.Sprintf("%v", x.Year)
}

func (x *Automobile) toString5() string {  // Drivers
    return fmt.Sprintf("%v", x.Drivers)
}

func (x *Automobile) toString6() string {  // Accessories
    return fmt.Sprintf("%v", x.Accessories)
}

func (x *Automobile) toString7() string {  // PartNames
    return fmt.Sprintf("%v", x.PartNames)
}





func (x *Automobile) Write(p thrift.Format) error {
    if err := p.WriteStructBegin("Automobile"); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct begin error: ", x), err)
    }

    if err := x.writeField1(p); err != nil {
        return err
    }

    if err := x.writeField2(p); err != nil {
        return err
    }

    if err := x.writeField3(p); err != nil {
        return err
    }

    if err := x.writeField4(p); err != nil {
        return err
    }

    if err := x.writeField5(p); err != nil {
        return err
    }

    if err := x.writeField6(p); err != nil {
        return err
    }

    if err := x.writeField7(p); err != nil {
        return err
    }

    if err := p.WriteFieldStop(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field stop error: ", x), err)
    }

    if err := p.WriteStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct end error: ", x), err)
    }
    return nil
}

func (x *Automobile) Read(p thrift.Format) error {
    if _, err := p.ReadStructBegin(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read error: ", x), err)
    }

    for {
        _, wireType, id, err := p.ReadFieldBegin()
        if err != nil {
            return thrift.PrependError(fmt.Sprintf("%T field %d read error: ", x, id), err)
        }

        if wireType == thrift.STOP {
            break;
        }

        switch {
        case (id == 1 && wireType == thrift.Type(thrift.STRING)):  // plate
            if err := x.readField1(p); err != nil {
                return err
            }
        case (id == 2 && wireType == thrift.Type(thrift.STRING)):  // previous_plate
            if err := x.readField2(p); err != nil {
                return err
            }
        case (id == 3 && wireType == thrift.Type(thrift.STRING)):  // first_plate
            if err := x.readField3(p); err != nil {
                return err
            }
        case (id == 4 && wireType == thrift.Type(thrift.I32)):  // year
            if err := x.readField4(p); err != nil {
                return err
            }
        case (id == 5 && wireType == thrift.Type(thrift.LIST)):  // drivers
            if err := x.readField5(p); err != nil {
                return err
            }
        case (id == 6 && wireType == thrift.Type(thrift.LIST)):  // Accessories
            if err := x.readField6(p); err != nil {
                return err
            }
        case (id == 7 && wireType == thrift.Type(thrift.MAP)):  // PartNames
            if err := x.readField7(p); err != nil {
                return err
            }
        default:
            if err := p.Skip(wireType); err != nil {
                return err
            }
        }

        if err := p.ReadFieldEnd(); err != nil {
            return err
        }
    }

    if err := p.ReadStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read struct end error: ", x), err)
    }

    return nil
}

func (x *Automobile) String() string {
    if x == nil {
        return "<nil>"
    }

    var sb strings.Builder

    sb.WriteString("Automobile({")
    sb.WriteString(fmt.Sprintf("Plate:%s ", x.toString1()))
    sb.WriteString(fmt.Sprintf("PreviousPlate:%s ", x.toString2()))
    sb.WriteString(fmt.Sprintf("FirstPlate:%s ", x.toString3()))
    sb.WriteString(fmt.Sprintf("Year:%s ", x.toString4()))
    sb.WriteString(fmt.Sprintf("Drivers:%s ", x.toString5()))
    sb.WriteString(fmt.Sprintf("Accessories:%s ", x.toString6()))
    sb.WriteString(fmt.Sprintf("PartNames:%s", x.toString7()))
    sb.WriteString("})")

    return sb.String()
}

type MapKey struct {
    Num int64 `thrift:"num,1" json:"num" db:"num"`
    Strval string `thrift:"strval,2" json:"strval" db:"strval"`
}
// Compile time interface enforcer
var _ thrift.Struct = (*MapKey)(nil)

func NewMapKey() *MapKey {
    return (&MapKey{}).
        SetNumNonCompat(0).
        SetStrvalNonCompat("")
}

func (x *MapKey) GetNum() int64 {
    return x.Num
}

func (x *MapKey) GetStrval() string {
    return x.Strval
}

func (x *MapKey) SetNumNonCompat(value int64) *MapKey {
    x.Num = value
    return x
}

func (x *MapKey) SetNum(value int64) *MapKey {
    x.Num = value
    return x
}

func (x *MapKey) SetStrvalNonCompat(value string) *MapKey {
    x.Strval = value
    return x
}

func (x *MapKey) SetStrval(value string) *MapKey {
    x.Strval = value
    return x
}

func (x *MapKey) writeField1(p thrift.Format) error {  // Num
    if err := p.WriteFieldBegin("num", thrift.I64, 1); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Num
    if err := p.WriteI64(item); err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *MapKey) writeField2(p thrift.Format) error {  // Strval
    if err := p.WriteFieldBegin("strval", thrift.STRING, 2); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Strval
    if err := p.WriteString(item); err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *MapKey) readField1(p thrift.Format) error {  // Num
    result, err := p.ReadI64()
if err != nil {
    return err
}

    x.Num = result
    return nil
}

func (x *MapKey) readField2(p thrift.Format) error {  // Strval
    result, err := p.ReadString()
if err != nil {
    return err
}

    x.Strval = result
    return nil
}

func (x *MapKey) toString1() string {  // Num
    return fmt.Sprintf("%v", x.Num)
}

func (x *MapKey) toString2() string {  // Strval
    return fmt.Sprintf("%v", x.Strval)
}



func (x *MapKey) Write(p thrift.Format) error {
    if err := p.WriteStructBegin("MapKey"); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct begin error: ", x), err)
    }

    if err := x.writeField1(p); err != nil {
        return err
    }

    if err := x.writeField2(p); err != nil {
        return err
    }

    if err := p.WriteFieldStop(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field stop error: ", x), err)
    }

    if err := p.WriteStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct end error: ", x), err)
    }
    return nil
}

func (x *MapKey) Read(p thrift.Format) error {
    if _, err := p.ReadStructBegin(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read error: ", x), err)
    }

    for {
        _, wireType, id, err := p.ReadFieldBegin()
        if err != nil {
            return thrift.PrependError(fmt.Sprintf("%T field %d read error: ", x, id), err)
        }

        if wireType == thrift.STOP {
            break;
        }

        switch {
        case (id == 1 && wireType == thrift.Type(thrift.I64)):  // num
            if err := x.readField1(p); err != nil {
                return err
            }
        case (id == 2 && wireType == thrift.Type(thrift.STRING)):  // strval
            if err := x.readField2(p); err != nil {
                return err
            }
        default:
            if err := p.Skip(wireType); err != nil {
                return err
            }
        }

        if err := p.ReadFieldEnd(); err != nil {
            return err
        }
    }

    if err := p.ReadStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read struct end error: ", x), err)
    }

    return nil
}

func (x *MapKey) String() string {
    if x == nil {
        return "<nil>"
    }

    var sb strings.Builder

    sb.WriteString("MapKey({")
    sb.WriteString(fmt.Sprintf("Num:%s ", x.toString1()))
    sb.WriteString(fmt.Sprintf("Strval:%s", x.toString2()))
    sb.WriteString("})")

    return sb.String()
}

type MapContainer struct {
    Mapval map[MapKey]string `thrift:"mapval,1" json:"mapval" db:"mapval"`
}
// Compile time interface enforcer
var _ thrift.Struct = (*MapContainer)(nil)

func NewMapContainer() *MapContainer {
    return (&MapContainer{}).
        SetMapvalNonCompat(make(map[MapKey]string))
}

func (x *MapContainer) GetMapval() map[MapKey]string {
    if !x.IsSetMapval() {
        return make(map[MapKey]string)
    }

    return x.Mapval
}

func (x *MapContainer) SetMapvalNonCompat(value map[MapKey]string) *MapContainer {
    x.Mapval = value
    return x
}

func (x *MapContainer) SetMapval(value map[MapKey]string) *MapContainer {
    x.Mapval = value
    return x
}

func (x *MapContainer) IsSetMapval() bool {
    return x != nil && x.Mapval != nil
}

func (x *MapContainer) writeField1(p thrift.Format) error {  // Mapval
    if err := p.WriteFieldBegin("mapval", thrift.MAP, 1); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Mapval
    if err := p.WriteMapBegin(thrift.STRUCT, thrift.STRING, len(item)); err != nil {
    return thrift.PrependError("error writing map begin: ", err)
}
for k, v := range item {
    {
        item := k
        if err := item.Write(p); err != nil {
    return err
}
    }

    {
        item := v
        if err := p.WriteString(item); err != nil {
    return err
}
    }
}
if err := p.WriteMapEnd(); err != nil {
    return thrift.PrependError("error writing map end: ", err)
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *MapContainer) readField1(p thrift.Format) error {  // Mapval
    _ /* keyType */, _ /* valueType */, size, err := p.ReadMapBegin()
if err != nil {
    return thrift.PrependError("error reading map begin: ", err)
}

mapResult := make(map[MapKey]string, size)
for i := 0; i < size; i++ {
    var key MapKey
    {
        result := *NewMapKey()
err := result.Read(p)
if err != nil {
    return err
}
        key = result
    }

    var value string
    {
        result, err := p.ReadString()
if err != nil {
    return err
}
        value = result
    }

    mapResult[key] = value
}

if err := p.ReadMapEnd(); err != nil {
    return thrift.PrependError("error reading map end: ", err)
}
result := mapResult

    x.Mapval = result
    return nil
}

func (x *MapContainer) toString1() string {  // Mapval
    return fmt.Sprintf("%v", x.Mapval)
}



func (x *MapContainer) Write(p thrift.Format) error {
    if err := p.WriteStructBegin("MapContainer"); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct begin error: ", x), err)
    }

    if err := x.writeField1(p); err != nil {
        return err
    }

    if err := p.WriteFieldStop(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field stop error: ", x), err)
    }

    if err := p.WriteStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct end error: ", x), err)
    }
    return nil
}

func (x *MapContainer) Read(p thrift.Format) error {
    if _, err := p.ReadStructBegin(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read error: ", x), err)
    }

    for {
        _, wireType, id, err := p.ReadFieldBegin()
        if err != nil {
            return thrift.PrependError(fmt.Sprintf("%T field %d read error: ", x, id), err)
        }

        if wireType == thrift.STOP {
            break;
        }

        switch {
        case (id == 1 && wireType == thrift.Type(thrift.MAP)):  // mapval
            if err := x.readField1(p); err != nil {
                return err
            }
        default:
            if err := p.Skip(wireType); err != nil {
                return err
            }
        }

        if err := p.ReadFieldEnd(); err != nil {
            return err
        }
    }

    if err := p.ReadStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read struct end error: ", x), err)
    }

    return nil
}

func (x *MapContainer) String() string {
    if x == nil {
        return "<nil>"
    }

    var sb strings.Builder

    sb.WriteString("MapContainer({")
    sb.WriteString(fmt.Sprintf("Mapval:%s", x.toString1()))
    sb.WriteString("})")

    return sb.String()
}

type Pair struct {
    Automobile *Automobile `thrift:"automobile,1" json:"automobile" db:"automobile"`
    Car *Car `thrift:"car,2" json:"car" db:"car"`
}
// Compile time interface enforcer
var _ thrift.Struct = (*Pair)(nil)

func NewPair() *Pair {
    return (&Pair{}).
        SetAutomobileNonCompat(*NewAutomobile()).
        SetCarNonCompat(*NewCar())
}

func (x *Pair) GetAutomobile() *Automobile {
    if !x.IsSetAutomobile() {
        return nil
    }

    return x.Automobile
}

func (x *Pair) GetCar() *Car {
    if !x.IsSetCar() {
        return nil
    }

    return x.Car
}

func (x *Pair) SetAutomobileNonCompat(value Automobile) *Pair {
    x.Automobile = &value
    return x
}

func (x *Pair) SetAutomobile(value *Automobile) *Pair {
    x.Automobile = value
    return x
}

func (x *Pair) SetCarNonCompat(value Car) *Pair {
    x.Car = &value
    return x
}

func (x *Pair) SetCar(value *Car) *Pair {
    x.Car = value
    return x
}

func (x *Pair) IsSetAutomobile() bool {
    return x != nil && x.Automobile != nil
}

func (x *Pair) IsSetCar() bool {
    return x != nil && x.Car != nil
}

func (x *Pair) writeField1(p thrift.Format) error {  // Automobile
    if !x.IsSetAutomobile() {
        return nil
    }

    if err := p.WriteFieldBegin("automobile", thrift.STRUCT, 1); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Automobile
    if err := item.Write(p); err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Pair) writeField2(p thrift.Format) error {  // Car
    if !x.IsSetCar() {
        return nil
    }

    if err := p.WriteFieldBegin("car", thrift.STRUCT, 2); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Car
    err := WriteCar(item, p)
if err != nil {
    return err
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Pair) readField1(p thrift.Format) error {  // Automobile
    result := *NewAutomobile()
err := result.Read(p)
if err != nil {
    return err
}

    x.Automobile = &result
    return nil
}

func (x *Pair) readField2(p thrift.Format) error {  // Car
    result, err := ReadCar(p)
if err != nil {
    return err
}

    x.Car = &result
    return nil
}

func (x *Pair) toString1() string {  // Automobile
    return fmt.Sprintf("%v", x.Automobile)
}

func (x *Pair) toString2() string {  // Car
    return fmt.Sprintf("%v", x.Car)
}

// Deprecated: Use NewPair().GetAutomobile() instead.
func (x *Pair) DefaultGetAutomobile() *Automobile {
    if !x.IsSetAutomobile() {
        return NewAutomobile()
    }
    return x.Automobile
}

// Deprecated: Use NewPair().GetCar() instead.
func (x *Pair) DefaultGetCar() *Car {
    if !x.IsSetCar() {
        return NewCar()
    }
    return x.Car
}



func (x *Pair) Write(p thrift.Format) error {
    if err := p.WriteStructBegin("Pair"); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct begin error: ", x), err)
    }

    if err := x.writeField1(p); err != nil {
        return err
    }

    if err := x.writeField2(p); err != nil {
        return err
    }

    if err := p.WriteFieldStop(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field stop error: ", x), err)
    }

    if err := p.WriteStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct end error: ", x), err)
    }
    return nil
}

func (x *Pair) Read(p thrift.Format) error {
    if _, err := p.ReadStructBegin(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read error: ", x), err)
    }

    for {
        _, wireType, id, err := p.ReadFieldBegin()
        if err != nil {
            return thrift.PrependError(fmt.Sprintf("%T field %d read error: ", x, id), err)
        }

        if wireType == thrift.STOP {
            break;
        }

        switch {
        case (id == 1 && wireType == thrift.Type(thrift.STRUCT)):  // automobile
            if err := x.readField1(p); err != nil {
                return err
            }
        case (id == 2 && wireType == thrift.Type(thrift.STRUCT)):  // car
            if err := x.readField2(p); err != nil {
                return err
            }
        default:
            if err := p.Skip(wireType); err != nil {
                return err
            }
        }

        if err := p.ReadFieldEnd(); err != nil {
            return err
        }
    }

    if err := p.ReadStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read struct end error: ", x), err)
    }

    return nil
}

func (x *Pair) String() string {
    if x == nil {
        return "<nil>"
    }

    var sb strings.Builder

    sb.WriteString("Pair({")
    sb.WriteString(fmt.Sprintf("Automobile:%s ", x.toString1()))
    sb.WriteString(fmt.Sprintf("Car:%s", x.toString2()))
    sb.WriteString("})")

    return sb.String()
}

type Collection struct {
    Automobiles []*Automobile `thrift:"automobiles,1" json:"automobiles" db:"automobiles"`
    Cars []*Car `thrift:"cars,2" json:"cars" db:"cars"`
}
// Compile time interface enforcer
var _ thrift.Struct = (*Collection)(nil)

func NewCollection() *Collection {
    return (&Collection{}).
        SetAutomobilesNonCompat(make([]*Automobile, 0)).
        SetCarsNonCompat(make([]*Car, 0))
}

func (x *Collection) GetAutomobiles() []*Automobile {
    if !x.IsSetAutomobiles() {
        return make([]*Automobile, 0)
    }

    return x.Automobiles
}

func (x *Collection) GetCars() []*Car {
    if !x.IsSetCars() {
        return make([]*Car, 0)
    }

    return x.Cars
}

func (x *Collection) SetAutomobilesNonCompat(value []*Automobile) *Collection {
    x.Automobiles = value
    return x
}

func (x *Collection) SetAutomobiles(value []*Automobile) *Collection {
    x.Automobiles = value
    return x
}

func (x *Collection) SetCarsNonCompat(value []*Car) *Collection {
    x.Cars = value
    return x
}

func (x *Collection) SetCars(value []*Car) *Collection {
    x.Cars = value
    return x
}

func (x *Collection) IsSetAutomobiles() bool {
    return x != nil && x.Automobiles != nil
}

func (x *Collection) IsSetCars() bool {
    return x != nil && x.Cars != nil
}

func (x *Collection) writeField1(p thrift.Format) error {  // Automobiles
    if err := p.WriteFieldBegin("automobiles", thrift.LIST, 1); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Automobiles
    if err := p.WriteListBegin(thrift.STRUCT, len(item)); err != nil {
    return thrift.PrependError("error writing list begin: ", err)
}
for _, v := range item {
    {
        item := v
        if err := item.Write(p); err != nil {
    return err
}
    }
}
if err := p.WriteListEnd(); err != nil {
    return thrift.PrependError("error writing list end: ", err)
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Collection) writeField2(p thrift.Format) error {  // Cars
    if err := p.WriteFieldBegin("cars", thrift.LIST, 2); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field begin error: ", x), err)
    }

    item := x.Cars
    if err := p.WriteListBegin(thrift.STRUCT, len(item)); err != nil {
    return thrift.PrependError("error writing list begin: ", err)
}
for _, v := range item {
    {
        item := v
        err := WriteCar(item, p)
if err != nil {
    return err
}
    }
}
if err := p.WriteListEnd(); err != nil {
    return thrift.PrependError("error writing list end: ", err)
}

    if err := p.WriteFieldEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field end error: ", x), err)
    }
    return nil
}

func (x *Collection) readField1(p thrift.Format) error {  // Automobiles
    _ /* elemType */, size, err := p.ReadListBegin()
if err != nil {
    return thrift.PrependError("error reading list begin: ", err)
}

listResult := make([]*Automobile, 0, size)
for i := 0; i < size; i++ {
    var elem Automobile
    {
        result := *NewAutomobile()
err := result.Read(p)
if err != nil {
    return err
}
        elem = result
    }
    listResult = append(listResult, &elem)
}

if err := p.ReadListEnd(); err != nil {
    return thrift.PrependError("error reading list end: ", err)
}
result := listResult

    x.Automobiles = result
    return nil
}

func (x *Collection) readField2(p thrift.Format) error {  // Cars
    _ /* elemType */, size, err := p.ReadListBegin()
if err != nil {
    return thrift.PrependError("error reading list begin: ", err)
}

listResult := make([]*Car, 0, size)
for i := 0; i < size; i++ {
    var elem Car
    {
        result, err := ReadCar(p)
if err != nil {
    return err
}
        elem = result
    }
    listResult = append(listResult, &elem)
}

if err := p.ReadListEnd(); err != nil {
    return thrift.PrependError("error reading list end: ", err)
}
result := listResult

    x.Cars = result
    return nil
}

func (x *Collection) toString1() string {  // Automobiles
    return fmt.Sprintf("%v", x.Automobiles)
}

func (x *Collection) toString2() string {  // Cars
    return fmt.Sprintf("%v", x.Cars)
}



func (x *Collection) Write(p thrift.Format) error {
    if err := p.WriteStructBegin("Collection"); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct begin error: ", x), err)
    }

    if err := x.writeField1(p); err != nil {
        return err
    }

    if err := x.writeField2(p); err != nil {
        return err
    }

    if err := p.WriteFieldStop(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write field stop error: ", x), err)
    }

    if err := p.WriteStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T write struct end error: ", x), err)
    }
    return nil
}

func (x *Collection) Read(p thrift.Format) error {
    if _, err := p.ReadStructBegin(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read error: ", x), err)
    }

    for {
        _, wireType, id, err := p.ReadFieldBegin()
        if err != nil {
            return thrift.PrependError(fmt.Sprintf("%T field %d read error: ", x, id), err)
        }

        if wireType == thrift.STOP {
            break;
        }

        switch {
        case (id == 1 && wireType == thrift.Type(thrift.LIST)):  // automobiles
            if err := x.readField1(p); err != nil {
                return err
            }
        case (id == 2 && wireType == thrift.Type(thrift.LIST)):  // cars
            if err := x.readField2(p); err != nil {
                return err
            }
        default:
            if err := p.Skip(wireType); err != nil {
                return err
            }
        }

        if err := p.ReadFieldEnd(); err != nil {
            return err
        }
    }

    if err := p.ReadStructEnd(); err != nil {
        return thrift.PrependError(fmt.Sprintf("%T read struct end error: ", x), err)
    }

    return nil
}

func (x *Collection) String() string {
    if x == nil {
        return "<nil>"
    }

    var sb strings.Builder

    sb.WriteString("Collection({")
    sb.WriteString(fmt.Sprintf("Automobiles:%s ", x.toString1()))
    sb.WriteString(fmt.Sprintf("Cars:%s", x.toString2()))
    sb.WriteString("})")

    return sb.String()
}

// RegisterTypes registers types found in this file that have a thrift_uri with the passed in registry.
func RegisterTypes(registry interface {
  RegisterType(name string, initializer func() any)
}) {

}
